### React - Data Flow

A quick introduction to data flow in the [React](http://facebook.github.io/react/) JavaScript library.

#### Contents
* Introduction
* Properties (`props`)
  * `props` with JSX
  * PropTypes
	* getDefaultProps
	* State
* Using state and props

##### Introduction
Data flows in one direction in React, namely from parent to the child. This helps to make components nice and simple, and predictable as well.

In essence, components take *props* from the parent, and then render. If a *prop* has been changed, for whatever reason, React will update the component tree for that change, and then re-render any components that used that property.

Internal state also exists for each component, and this should only be updated within the component itself.

##### Properties (`props`)
Properties, or `props`, can hold any data and are passed to a component for usage. As developers, we can set `props` on a component during instantiation

```
var classics = [{ title: 'Greek'}];
<ListClassics classics={classics}/>
```

We can also use the `setProps` method on a given instance of a component.

```
var classics = [{ title: 'Greek'}];
var listClassics = React.render (
	<ListClassics/>,
	document.querySelector('body')
	);
	listClassics.setProps({ classics: classics });
```

However, this option should only really be used to set `props` on a child component or outside of the component tree.

**NB:** we can access `props` via `this.props`, but it should not be used to write directly to `props`. In effect, a component should not modify its own props.

###### `props` with JSX
If used with JSX, `props` can be set as a string,

```
<a href='/classics/add'>Add Classics</a>
```

We can also set the `props` using the `{}` syntax, which allows us to pass variables of any type via JavaScript injection.

```
<a href={'/classics/' + classic.id}>{classic.title}</a>
```

We can also pass event handlers as `props`,

```
var EditButton = React.createClass({
	render: function() {
		return (
			<a className='button edit' onClick={this.handleClick}>Edit</a>
		);
	},
	handleClick: function() {
	//handle click...
	}
});
```

###### Proptypes
We can use React to validate our `props` using a config object defined on a given component. Using `propTypes` we are effectively ensuring that a component matches the given requirements. For example,

```
var classicRow = React.createClass({
	propTypes: {
		classic: React.PropTypes.shape({
			id: React.PropTypes.number.isRequired
		}).isRequired,
		onClick: React.PropTypes.func
	},
	//.......
});
```

Therefore, if the `propTypes` requirements are not fulfilled upon instantiation of the component, a `console.warn` will be returned and logged.

If want to set optional `props` we can simply omit the `.isRequired` flag.

**NB:** `propTypes` are not considered a required part of an application, but they provide a useful way to describe the API of a component.
