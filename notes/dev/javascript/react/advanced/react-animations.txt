### React - Advanced - Animations

A quick introduction to animations in the React JavaScript library. Further details are available at the [React](http://facebook.github.io/react/) website.

#### Contents
* Intro
* CSS transition groups

##### Intro
React has a *Transition Groups* addon, which works with CSS3 to help incorporate animated transitions in React based apps.

Unlike most animation libraries or plugins, which traditionally use an imperative approach, such as selecting an element and then moving it around or modifying its style to create animation, React employs a more declarative approach. This is due to the core nature of React, which employs the render and re-render approach.

CSS *transition groups* enable css animations for transitions, effectively modifying classes during appropriate timed renders and re-renders.

##### Animation options
So, what can we actually do with animations in React? For example, we can now

* animate transitions between states using CSS3 and Transition Groups
* animate outside CSS, such as scroll position and Canvas drawing by using `requestAnimationFrame`
* fall back to `setTimeout` when `requestAnimationFrame` is not a viable option

##### CSS transition groups
Too be able to use *transition group* with our app, we need to initally include our animation add-on near the top of our component file. For example,

```
var ReactCSSTransitionGroup = React.addons.CSSTransitionGroup
```

This add-on automatically handles re-rendering of the component at appropriate times by altering the transition group's class to fit the correct situation within the transition. So, this connects an element to four CSS classes,

* ...-enter
* ...-enter-active
* ...-leave
* ...-leave-active

The *CSSTransitionGroup* add-on will automatically add and remove these classes, prefixed with the value of the `transitionName` attribute, as child components enter or leave the *ReactCSSTransitionGroup* component. For example,

```
//basic animation of add items - no remove yet...
var PANELS = [
	{panelId:1, title: 'panel1', content: 'panel 1 content...', show:true},
	{panelId:2, title: 'panel2', content: 'panel 2 content...', show:false},
	{panelId:3, title: 'panel3', content: 'panel 3 content...', show:false}
];

var ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;

//output panels from passed data...
var PanelList = React.createClass({
propTypes: {
        data: React.PropTypes.array.isRequired
      },
	render: function() {
							var panels = this.props.data.map(function(item) {
									return (
											<li key={item.panelId} onClick={this.props.onPanelSelected.bind(null, item.panelId)}>
													{item.title}
											</li>
									);
							}.bind(this));
					return (
						<div id="left-titles" className="col-md-6 col-sm-6 col-xs-6">
							<ul>
							{panels}
							</ul>
						</div>
					);
	}
});

var PanelContent = React.createClass({
propTypes: {
        content: React.PropTypes.array.isRequired
      },
	render: function() {
		var content = this.props.content.map(function(item) {
			return (
				<div className="panel_content" key={item.panelId}>
					{item.content}
				</div>
				);
		}
		);
		return (
			<div id="right-titles" className="col-md-6 col-sm-6 col-xs-6">
			<ReactCSSTransitionGroup transitionName="accordion">
				{content}
			</ReactCSSTransitionGroup>
			</div>
		);
	}
});

var PanelContainer = React.createClass({
	getInitialState: function() {
		return {
			selectedPanelId: this.props.defaultPanelId
		};
	},
	render: function() {
		var data = this.props.data;
		var selectedPanelContent = data.filter(function(item){
			return item.panelId === this.state.selectedPanelId;
		}, this);
		return (
			<div className="container col-md-12 col-sm-12 col-xs-12">
			<PanelList data={data} onPanelSelected={this.onPanelSelected} />
			<PanelContent content={selectedPanelContent} />
			</div>
		);
	},
	onPanelSelected: function(panelId) {
		this.setState({selectedPanelId: panelId});
	}
});

var buildPanels = React.render (
	<PanelContainer data={PANELS} defaultPanelId='1' />,
	document.getElementById('accordion')
);
```

##### Render animation with different component
By default, React's `ReactTransitionGroup` render a `span`. However, it's possible to customise this wrapper element as follows,

```
<ReactTransitionGroup component="ul">
...
```
